{"version":3,"file":"svg-text-animate.js","sources":["../src/svg-text-animate.js"],"sourcesContent":["var opentype = require('opentype.js');\r\nvar makerjs = require('makerjs');\r\nvar Vivus = require('vivus');\r\n// var opentype = require('opentype.js');\r\n// import makerjs from \"makerjs\"\r\n// import Vivus from \"vivus\"\r\n\r\nexport default class SVGTextAnimate {\r\n  constructor(fontfile) {\r\n    this.fontfile = fontfile;\r\n  }\r\n\r\n  // setFont(font) {\r\n  //   opentype.loadSync(font)\r\n  // }\r\n\r\n  setFont(fontfile) {\r\n    const _this = this\r\n    // const ofont = await opentype.load(font);\r\n    // console.log(ofont);\r\n    // const path = ofont.getPath('Hello, World!', 0, 150, 72);\r\n\r\n    return new Promise(function(resove,reject){\r\n      opentype.load(_this.fontfile, function (err, openfont) {\r\n        if (err) {\r\n          console.err('the font' + _this.fontfile + 'could not be loaded :(');\r\n          reject();\r\n        } else {\r\n          _this.font = openfont\r\n          resove(true);\r\n        }\r\n      })\r\n    })\r\n  }\r\n\r\n  create(text, fatherdom, fontsize) {\r\n    const _this = this\r\n    const textModel = new makerjs.models.Text(_this.font, text, fontsize || 72);\r\n    const svg = makerjs.exporter.toSVG(textModel);\r\n    const dom = document.querySelector(fatherdom);\r\n    dom.innerHTML = svg\r\n    const svgDom = dom.querySelector(\"svg\");\r\n    console.log(svgDom)\r\n    const v = new Vivus(svgDom, { duration: 1000 });\r\n    v.reset().play(1);\r\n  }\r\n}"],"names":["const"],"mappings":";;;;;;;;;;EAAA,IAAI,QAAQ,GAAG,OAAO,CAAC,aAAa,CAAC,CAAC;EACtC,IAAI,OAAO,GAAG,OAAO,CAAC,SAAS,CAAC,CAAC;EACjC,IAAI,KAAK,GAAG,OAAO,CAAC,OAAO,CAAC,CAAC;;;;;EAKd,IAAM,cAAc,GACjC,uBAAW,CAAC,QAAQ,EAAE;IACpB,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;EAC3B,EAAC;;EAEH;EACE;EACF;;EAEA,yBAAE,4BAAQ,QAAQ,EAAE;IAChBA,IAAM,KAAK,GAAG,KAAI;;;;;IAKpB,OAAS,IAAI,OAAO,CAAC,SAAS,MAAM,CAAC,MAAM,CAAC;MACxC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE,UAAU,GAAG,EAAE,QAAQ,EAAE;QACvD,IAAM,GAAG,EAAE;UACP,OAAO,CAAC,GAAG,CAAC,UAAU,GAAG,KAAK,CAAC,QAAQ,GAAG,wBAAwB,CAAC,CAAC;UACtE,MAAQ,EAAE,CAAC;SACV,MAAM;UACL,KAAK,CAAC,IAAI,GAAG,SAAQ;UACrB,MAAM,CAAC,IAAI,CAAC,CAAC;SACd;OACF,EAAC;KACH,CAAC;EACJ,EAAC;;EAEH,yBAAE,0BAAO,IAAI,EAAE,SAAS,EAAE,QAAQ,EAAE;IAChCA,IAAM,KAAK,GAAG,KAAI;IACpB,IAAQ,SAAS,GAAG,IAAI,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,EAAE,QAAQ,IAAI,EAAE,CAAC,CAAC;IAC5EA,IAAM,GAAG,GAAG,OAAO,CAAC,QAAQ,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;IAChD,IAAQ,GAAG,GAAG,QAAQ,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC;IAC9C,GAAG,CAAC,SAAS,GAAG,IAAG;IACrB,IAAQ,MAAM,GAAG,GAAG,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;IACxC,OAAO,CAAC,GAAG,CAAC,MAAM,EAAC;IACnBA,IAAM,CAAC,GAAG,IAAI,KAAK,CAAC,MAAM,EAAE,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC,CAAC;IAClD,CAAG,CAAC,KAAK,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;EACpB,CAAC;;;;"}