{"version":3,"file":"svg-text-animate.module.js","sources":["../src/svg-text-animate.js"],"sourcesContent":["var opentype = require('opentype.js');\r\nvar makerjs = require('makerjs');\r\nvar Vivus = require('vivus');\r\n// var opentype = require('opentype.js');\r\n// import makerjs from \"makerjs\"\r\n// import Vivus from \"vivus\"\r\n\r\nexport default class SVGTextAnimate {\r\n  constructor(fontfile) {\r\n    this.fontfile = fontfile;\r\n  }\r\n\r\n  // setFont(font) {\r\n  //   opentype.loadSync(font)\r\n  // }\r\n\r\n  setFont(fontfile) {\r\n    const _this = this\r\n    // const ofont = await opentype.load(font);\r\n    // console.log(ofont);\r\n    // const path = ofont.getPath('Hello, World!', 0, 150, 72);\r\n\r\n    return new Promise(function(resove,reject){\r\n      opentype.load(_this.fontfile, function (err, openfont) {\r\n        if (err) {\r\n          console.err('the font' + _this.fontfile + 'could not be loaded :(');\r\n          reject();\r\n        } else {\r\n          _this.font = openfont\r\n          resove(true);\r\n        }\r\n      })\r\n    })\r\n  }\r\n\r\n  create(text, fatherdom, fontsize) {\r\n    const _this = this\r\n    const textModel = new makerjs.models.Text(_this.font, text, fontsize || 72);\r\n    const svg = makerjs.exporter.toSVG(textModel);\r\n    const dom = document.querySelector(fatherdom);\r\n    dom.innerHTML = svg\r\n    const svgDom = dom.querySelector(\"svg\");\r\n    console.log(svgDom)\r\n    const v = new Vivus(svgDom, { duration: 1000 });\r\n    v.reset().play(1);\r\n  }\r\n}"],"names":["const"],"mappings":";;;;AAAA,IAAI,QAAQ,GAAG,OAAO,CAAC,aAAa,CAAC,CAAC;AACtC,IAAI,OAAO,GAAG,OAAO,CAAC,SAAS,CAAC,CAAC;AACjC,IAAI,KAAK,GAAG,OAAO,CAAC,OAAO,CAAC,CAAC;;;;;AAKd,IAAM,cAAc,GACjC,uBAAW,CAAC,QAAQ,EAAE;EACpB,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;EAC1B;;;;;;AAMH,yBAAE,4BAAQ,QAAQ,EAAE;EAChBA,IAAM,KAAK,GAAG,KAAI;;;;;EAKpB,OAAS,IAAI,OAAO,CAAC,SAAS,MAAM,CAAC,MAAM,CAAC;IACxC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE,UAAU,GAAG,EAAE,QAAQ,EAAE;MACvD,IAAM,GAAG,EAAE;QACP,OAAO,CAAC,GAAG,CAAC,UAAU,GAAG,KAAK,CAAC,QAAQ,GAAG,wBAAwB,CAAC,CAAC;QACtE,MAAQ,EAAE,CAAC;OACV,MAAM;QACL,KAAK,CAAC,IAAI,GAAG,SAAQ;QACrB,MAAM,CAAC,IAAI,CAAC,CAAC;OACd;KACF,EAAC;GACH,CAAC;EACH;;AAEH,yBAAE,0BAAO,IAAI,EAAE,SAAS,EAAE,QAAQ,EAAE;EAChCA,IAAM,KAAK,GAAG,KAAI;EACpB,IAAQ,SAAS,GAAG,IAAI,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,EAAE,QAAQ,IAAI,EAAE,CAAC,CAAC;EAC5EA,IAAM,GAAG,GAAG,OAAO,CAAC,QAAQ,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;EAChD,IAAQ,GAAG,GAAG,QAAQ,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC;EAC9C,GAAG,CAAC,SAAS,GAAG,IAAG;EACrB,IAAQ,MAAM,GAAG,GAAG,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;EACxC,OAAO,CAAC,GAAG,CAAC,MAAM,EAAC;EACnBA,IAAM,CAAC,GAAG,IAAI,KAAK,CAAC,MAAM,EAAE,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC,CAAC;EAClD,CAAG,CAAC,KAAK,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;CACnB;;"}